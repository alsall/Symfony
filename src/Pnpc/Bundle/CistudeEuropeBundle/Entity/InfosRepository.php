<?php

namespace Pnpc\Bundle\CistudeEuropeBundle\Entity;

use Doctrine\ORM\EntityRepository;

/**
 * InfosRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class InfosRepository extends EntityRepository
{
	public function VoirTout()
	{
		$requete = $this->createQueryBuilder('i')
					->getQuery()
					->getResult();
		return $requete;
	}
	
	public function VoirUn($id)
	{
		$requete = $this->_em->createQueryBuilder()
					->select('i')
					->from('PnpcCistudeEuropeBundle:Infos','i')
					->where('i.id = :id')
					->setParameter('id',$id)
					->getQuery()
					->getResult();
					
		return $requete;				
	}
	
		public function Supprimer($id)
	{
		$requete = $this->_em->createQueryBuilder()
					->select('i')
					->from('PnpcCistudeEuropeBundle:Infos','i')
					->where('i.id = :id')
					->setParameter('id',$id)
					->getQuery()
					->getResult();
					
		return $requete;				
	}
		public function Modifier($id)
	{
		$requete = $this->_em->createQueryBuilder()
					->select('i')
					->from('PnpcCistudeEuropeBundle:Infos','i')
					->where('i.id = :id')
					->setParameter('id',$id)
					->getQuery()
					->getResult();
					
		return $requete;				
	}
	public function recup()
	{
	$liste = $this->getDoctrine()
                     ->getManager()
                     ->getRepository('PnpcCistudeEuropeBundle:Infos')
					 ->VoirTout();
		
		if (!$liste) 
		{
        throw $this->createNotFoundException('Oups votre base de donnÃ©es est vide!!! ');
		}
		
		foreach($liste as $info)
		{}
	}
	
	public function Recherche($champ,$mot)
	{
		$requete = $this->_em->createQueryBuilder()
					->select('i')
					->from('PnpcCistudeEuropeBundle:Infos','i')
					->where('i.'.$champ.'= :mot')
					->setParameter('mot',$mot)
					->getQuery()
					->getResult();
					
		return $requete;				
	}	
}
